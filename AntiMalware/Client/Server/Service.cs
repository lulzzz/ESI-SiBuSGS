using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;
using Interfaces;
using Repository;
namespace Server
{
    public class Service : IReplicator, IAntiMalwareService
    {
        Dictionary<String, String> clients;
        IRepository repository;

        public Service() {
            repository = new DBRepository("localhost", "white_list", "root", "root");
        }
        public Service(IRepository repository)
        {
            this.repository = repository;
        }

        public void update()
        {
            Console.WriteLine("Replikator povezan!");
        }

        public void pushClient(String ipAddress, String port)
        {
            clients.Add(port, ipAddress);
        }

        public bool isValid(byte[] hash)
        {
            Console.WriteLine("Klijent hoce da sazna nesto!");
            return repository.checkHash(hash);
        }

        
    }
}
