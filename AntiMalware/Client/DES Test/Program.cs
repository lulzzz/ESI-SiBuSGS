using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;
using Security;
using System.Diagnostics;
using System.Threading;

namespace DES_Test
{
	class Program
	{
		static void Main(string[] args)
		{
			TripleDES tdes = new TripleDES();
            Stopwatch s = new Stopwatch();

			byte[] data = new byte[128];

			byte[] result = new byte[128];

			for (int i=0; i<128; i++) {
				data[i] = (byte)i;
			}

			byte[] key = new byte[8];

			for (int i=0; i<8; i++) {
				key[i] = (byte)i;
			}

			byte[] encdata = new byte[128];
        
			result = tdes.encrypt(data, key, key, key);
          

            s.Start();
			data = tdes.decrypt(result, key, key, key);
            s.Stop();
            Console.WriteLine("With parallelization: " + s.Elapsed);// + "data " + Convert.ToString(data));

            s.Reset();

			result = tdes.encrypt(data, key, key, key);

            s.Start();
            data = tdes.decrypt(result, key, key, key);
            s.Stop();
            Console.WriteLine("With parallelization: " + s.Elapsed);// + "data " + Convert.ToString(data));

            s.Reset();

            result = tdes.encrypt(data, key, key, key);

            s.Start();
            data = tdes.decrypt(result, key, key, key);
            s.Stop();
            Console.WriteLine("With parallelization: " + s.Elapsed);// + "data " + Convert.ToString(data));

            s.Reset();

			result = tdes.encrypt(data, key, key, key);
            s.Start();
            data = tdes.decrypt(result, key, key, key);
            s.Stop();
            Console.WriteLine("With parallelization: " + s.Elapsed);// + "data " + Convert.ToString(data));


            Console.ReadLine();
		}
	}
}
